{% extends "base.html" %}

{% block title %}Novo fluxo · Orquestrador WhatsApp{% endblock %}

{% block content %}
<div class="card">
    <h2 style="margin-top: 0;">Cadastrar fluxo</h2>
    <p>Defina as informações principais do fluxo. Os nós podem ser adicionados após a criação.</p>

    <form method="post" action="{{ request.url_for('create_flow_form') }}">
        <div class="field">
            <label for="name">Nome</label>
            <input id="name" type="text" name="name" required value="{{ form_values.name if form_values and form_values.name else '' }}" />
        </div>

        <div class="field">
            <label for="description">Descrição</label>
            <textarea id="description" name="description" placeholder="Objetivo do fluxo, público e observações">{{ form_values.description if form_values and form_values.description else '' }}</textarea>
        </div>

        <div class="field">
            <label for="status">Status</label>
            <select id="status" name="status_value">
                {% for status in flow_statuses %}
                <option value="{{ status.value }}" {% if form_values and form_values.status == status.value %}selected{% endif %}>{{ status.value }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit">Criar fluxo</button>
        <a class="button" style="margin-left: 0.5rem; background: #6b7280;" href="{{ request.url_for('console_home') }}">Cancelar</a>
    </form>
</div>
{% endblock %}